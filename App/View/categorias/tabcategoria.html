{% block stylesheet %}
<style>
	td {text-align: center;}
    th {text-align: center;}
</style>
{% endblock %}

{% block body %}

<div class="table-responsive">
</br>
	<caption><label>Categorias</label></caption> 
		</br>

	 <table class="table table-hover table-condensed table-bordered"  id="lista">

	 	<div ><input class="col-sm-6" id="filtro-nome" placeholder="Nome"/></div></br>
	 	</br>

		<thead>	
		 	<tr>
		 		<th>Faixa Etária</th>
		 		<th>Descrição</th>

		 		<th>Editar</th>
		 		<th>Excluir</th>
		 	</tr>
			 
 		</thead>

 		<tbody>	
			{% for categoria in categorias %}
		 	<tr>
				<td>{{categoria.categoria}}</td>
				<td>{{categoria.descricao}}</td>
		 		<td>
					<span class="btn btn-warning btn-xs" data-toggle="modal" data-target="#atualizarUsuario" onclick="adicionarDados('{{categoria.id}}')">
						<span class="glyphicon glyphicon-pencil"></span>
					</span>
				</td>
				<td>
					<span class="btn btn-danger btn-xs" onclick="deletarUsuario('{{categoria.id}}')">
						<span class="glyphicon glyphicon-remove"></span>
					</span>
				</td>
		 	</tr>
			 {% endfor %}
	 	</tbody>
	</table>
	<div>
		<button id="anterior" disabled>&lsaquo; Anterior</button>
		<span id="numeracao"></span>
		<button id="proximo" disabled>Próximo &rsaquo;</button>
	</div>
</div>

{% endblock %}

{% block javascript %}
<script type="text/javascript">
	$('#filtro-nome').keyup(function() {
		var nomeFiltro = $(this).val().toLowerCase();
		$('table tbody').find('tr').each(function() {
		    var conteudoCelula = $(this).find('td:first').text();
		    var corresponde = conteudoCelula.toLowerCase().indexOf(nomeFiltro) >= 0;
		    $(this).css('display', corresponde ? '' : 'none');
		});
	});
</script>

<!-- <script type="text/javascript">
	// categorias = [];
	var tamanhoPagina = 6;
	var pagina = 0;
	function paginar() {
		$('table > tbody > tr').remove();
		var tbody = $('table > tbody');
		console.log('ak2', categorias);
		// for (var i = pagina * tamanhoPagina; i < categorias.length && i < (pagina + 1) *  tamanhoPagina; i++) {
		// 	tbody.append(
		// 		$('<tr>')
		// 			.append($('<td>').append(categoria[i]))
		// 			.append($('<td>').append(categoria[i]))
		// 	);console.log('ak',dados);
		// };
		categorias.forEach(categoria => {
			// tbody.append(`<tr> <th>${categoria.descricao}</th> </tr>`);
			console.log(categoria);
		});
		$('#numeracao').text('Página ' + (pagina + 1) + ' de ' + Math.ceil(dados.length / tamanhoPagina));
	}
</script>

<script type="text/javascript">
	function ajustarBotoes() {
		$('#proximo').prop('disabled', dados.length <= tamanhoPagina || pagina > dados.length / tamanhoPagina - 1);
		$('#anterior').prop('disabled', dados.length <= tamanhoPagina || pagina == 0);
	}
</script>

<script type="text/javascript">
	$(function() {
		$('#proximo').click(function() {
			if (pagina < dados.length / tamanhoPagina - 1) {
				pagina++;
				paginar();
				ajustarBotoes();
			}
		});
		$('#anterior').click(function() {
			if (pagina > 0) {
				pagina--;
				paginar();
				ajustarBotoes();
			}
		});
		paginar();
		ajustarBotoes();
	});
</script> -->


{% endblock %}