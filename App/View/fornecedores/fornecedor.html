{% extends "base.html" %}

{% block title %}Fornecedores{% endblock %}

{% block stylesheet %}
{% endblock %}

{% block body %}
<div class="container">
    <h3 style="color: rgb(17, 41, 77); margin-top: -35px;">Fornecedores de Briquedos</h3>
    <br>
    <div class="row">
        <div class="col-sm-4">
            <form id="frmFornecedor">
                <div class="form-group">
                    <label for="razao_social">Razao Social</label>
                    <input type="text" class="form-control" id="razao_social" name="razao_social">
                </div>
                <div class="form-group">
                    <label for="fantasia">Nome Fantasia</label>
                    <input type="text" class="form-control" id="fantasia" name="fantasia">
                </div>
                <div class="form-group">
                    <label for="cnpj">CNPJ</label>
                    <input type="text" class="form-control" id="cnpj" name="cnpj">
                </div>
                <div class="row">
                    <div class="form-group col-md-6">
                        <label for="email">E-mail</label>
                        <input type="email" class="form-control" id="email" name="email" placeholder="nome@exemplo.com">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="telefone">Telefone</label>
                        <input type="text" class="form-control" id="telefone" name="telefone" placeholder="Só números">
                    </div>
                </div>
                <div class="form-group">
                    <label for="rua">Rua</label>
                    <input type="text" class="form-control" id="rua" placeholder="Rua ..." name="rua">
                </div>
                <div class="row">
                    <div class="form-group col-md-3">
                        <label for="numero">Numero</label>
                        <input type="text" class="form-control" id="numero" name="numero" placeholder="nº 0">
                    </div>
                    <div class="form-group col-md-5">
                        <label for="bairro">Bairro</label>
                        <input type="text" class="form-control" id="bairro" name="bairro">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="cep">CEP</label>
                        <input type="text" class="form-control" id="cep" name="cep" placeholder="Só números">
                    </div>
                </div>
                
                <div class="row">
                    <div class="form-group col-md-6">
                        <label for="cidade">Cidade</label>
                        <input type="text" class="form-control" id="cidade" name="cidade">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="estado">Estado</label>
                        <select id="estado" class="form-control" name="estado">
                            <option selected>Escolher...</option>
                            <option value="AC">Acre</option>
                            <option value="AL">Alagoas</option>
                            <option value="AP">Amapá</option>
                            <option value="AM">Amazonas</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Ceará</option>
                            <option value="DF">Distrito Federal</option>
                            <option value="ES">Espírito Santo</option>
                            <option value="GO">Goiás</option>
                            <option value="MA">Maranhão</option>
                            <option value="MT">Mato Grosso</option>
                            <option value="MS">Mato Grosso do Sul</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="PA">Pará</option>
                            <option value="PB">Paraíba</option>
                            <option value="PR">Paraná</option>
                            <option value="PE">Pernambuco</option>
                            <option value="PI">Piauí</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="RN">Rio Grande do Norte</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="RO">Rondônia</option>
                            <option value="RR">Roraima</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="SP">São Paulo</option>
                            <option value="SE">Sergipe</option>
                            <option value="TO">Tocantins</option>
                        </select>
                    </div>
                    
                </div>
                    <!-- <button type="submit" class="btn btn-primary">Entrar</button> -->
                <span class="btn btn-primary btn-block" id="btnAdicionarFornecedor">Adicionar</span>
            </form>
        </div>
        <div class="col-sm-8">
            <div id="tabelaFornecedorLoad"></div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}

<script type="text/javascript">
    $("#telefone").mask("(00)00000-0000");
    $("#cep").mask("00000-000");
    $(document).ready(function(){
        $('#tabelaFornecedorLoad').load("tabela-fornecedor");
        $('#btnAdicionarFornecedor').click(function(){
            vazios=validarFormVazio('frmFornecedor');
            if(vazios > 0){
                alertify.alert("Preencha os Campos!!");
                return false;
            }
            dados=$('#frmFornecedor').serialize();
            $.ajax({
                type:"POST",
                data:dados,
                url:"fornecedor",
                success:function(r){
                    console.log(r);
                    if(r){
                        //limpar formulário
                        $('#frmFornecedor')[0].reset();
                        $('#tabelaFornecedorLoad').load("tabela-fornecedor");
                        alertify.success("Fornecedor adicionada com sucesso!");
                    }else{
                        alertify.error("Não foi possível adicionar o fornecedor");
                    }
                }
            });
        });
    });
</script>



{% endblock %}

